@* -schedule page for games, practices, and events- *@
@model List<CS330_Fall2024_FinalProject.Models.Schedule>
@{
    ViewData["Title"] = "Snow Ski Team Schedule Page";
}

@using Microsoft.AspNetCore.Identity
@inject SignInManager<Athlete> SignInManager
@inject UserManager<Athlete> UserManager

<body class="secondary-page">
    <main class="main">
        <div class="page-title accent-background">
            <div class="container position-relative">
                <h2>Snow Ski Team Schedule</h2>
                <p>Stay up-to-date with our games, practices, and upcoming events.</p>
            </div>
        </div>

    <!-- Schedules Section -->
    <section id="services" class="services section pb-5">

      <div class="container">

        <div class="row justify-content-between pb-5">

          <div class="col-lg-4 d-flex" data-aos="fade-up" data-aos-delay="100">
            <div class="service-item position-relative d-flex flex-column align-items-center text-decoration-none">
              <div class="icon"><i class="bi bi-activity icon"></i></div>
              <h4><a href="#games" class="stretched-link">Games</a></h4>
              <p>Come support us at our games!</p>
            </div>
          </div><!-- End Service Item -->

          <div class="col-lg-4 d-flex" data-aos="fade-up" data-aos-delay="200">
            <div class="service-item position-relative d-flex flex-column align-items-center text-decoration-none">
              <div class="icon"><i class="bi bi-bounding-box-circles icon"></i></div>
              <h4><a href="#practices" class="stretched-link">Practices</a></h4>
              <p>Drop in to a practice!</p>
            </div>
          </div><!-- End Service Item -->

          <div class="col-lg-4 d-flex" data-aos="fade-up" data-aos-delay="300">
            <div class="service-item position-relative d-flex flex-column align-items-center text-decoration-none">
              <div class="icon"><i class="bi bi-calendar4-week icon"></i></div>
              <h4><a href="#events" class="stretched-link">Events</a></h4>
              <p>Support the team at an event.</p>
            </div>
          </div><!-- End Service Item -->

        </div>

      </div>
      <br></br>

        <div class="curvy-line-divider">
            <svg viewBox="0 0 1440 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                <path
                    d="M0,50 C360,100 720,0 1080,50 C1440,100 1800,0 2160,50 L2160,100 L0,100 Z"
                    class="curvy-line">
                </path>
            </svg>
        </div>

        <section id="games" class="games">
            <div class="container pt-5">
                <div class="text-center mb-5 pt-2">
                    <h2 id="schedule-page-section-titles-1" class="mb-4" style="color: var(--heading-color);">Games</h2>
                    <img id="schedule-page-image-1" src="~/Images/schedulepage-1.svg" alt="Games Schedule" class="img-fluid mb-3">
                    <p style="color: var(--default-color);">Come support us at our upcoming games and cheer for the Snow Ski Team!</p>
                </div>

                <div class="row justify-content-center">
                    @foreach (var schedule in Model.Where(s => s.Type == "Game"))
                    {
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card shadow-sm border-0" style="background-color: var(--surface-color); border-radius: 15px; transition: transform 0.3s, box-shadow 0.3s;">
                                <div class="card-body text-center">
                                    <h5 class="card-title" style="color: var(--heading-color);">@schedule.Description</h5>
                                    <p class="card-text text-muted" style="color: var(--default-color);">
                                        <i class="bi bi-calendar-event" style="color: var(--accent-color);"></i> @schedule.Date.ToString("MMMM dd, yyyy")<br>
                                        <i class="bi bi-clock" style="color: var(--accent-color);"></i> @schedule.Date.ToString("HH:mm")
                                    </p>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </section>

        <div class="curvy-line-divider">
            <svg viewBox="0 0 1440 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                <path
                    d="M0,50 C360,100 720,0 1080,50 C1440,100 1800,0 2160,50 L2160,100 L0,100 Z"
                    class="curvy-line">
                </path>
            </svg>
        </div>


            <!-- Divider -->
            @* <hr class="my-5 border-secondary"> *@

            <section id="practices" class="practices">
                <div class="container pt-5">
                    <div class="text-center mb-5 pt-2">
                        <h2 id="schedule-page-section-titles-2" class="mb-4" style="color: var(--heading-color);">Practices</h2>
                        <img id="schedule-page-image-2" src="~/Images/schedulepage-2.svg" alt="Practices Schedule" class="img-fluid mb-3">
                        <p style="color: var(--default-color);">Come stop by our practices!</p>
                    </div>

                    <div class="row justify-content-center">
                            @foreach (var schedule in Model.Where(s => s.Type == "Practice"))
                            {
                                <div class="col-lg-4 col-md-6 mb-4">
                                    <div class="card shadow-sm border-0" style="background-color: var(--surface-color); border-radius: 15px; transition: transform 0.3s, box-shadow 0.3s;">
                                        <div class="card-body text-center">
                                            <h5 class="card-title" style="color: var(--heading-color);">@schedule.Description</h5>
                                            <p class="card-text text-muted" style="color: var(--default-color);">
                                                <i class="bi bi-calendar-event" style="color: var(--accent-color);"></i> @schedule.Date.ToString("MMMM dd, yyyy")<br>
                                                <i class="bi bi-clock" style="color: var(--accent-color);"></i> @schedule.Date.ToString("HH:mm")
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            }
                    </div>
                </div>
            </section>

            <div class="curvy-line-divider">
                <svg viewBox="0 0 1440 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                    <path
                        d="M0,50 C360,100 720,0 1080,50 C1440,100 1800,0 2160,50 L2160,100 L0,100 Z"
                        class="curvy-line">
                    </path>
                </svg>
            </div>


            <section id="events" class="events">
                <div class="container pt-5">
                    <div class="text-center mb-5 pt-2">
                        <h2 id="schedule-page-section-titles-2" class="mb-4" style="color: var(--heading-color);">Events</h2>
                        <img id="schedule-page-image-3" src="~/Images/schedulepage-3.svg" alt="Events Schedule" class="img-fluid mb-3">
                        <p style="color: var(--default-color);">Come support the team at some of our planned events!</p>
                    </div>

                    <div class="row justify-content-center">
                            @foreach (var schedule in Model.Where(s => s.Type == "Event"))
                            {
                                <div class="col-lg-4 col-md-6 mb-4">
                                    <div class="card shadow-sm border-0" style="background-color: var(--surface-color); border-radius: 15px; transition: transform 0.3s, box-shadow 0.3s;">
                                        <div class="card-body text-center">
                                            <h5 class="card-title" style="color: var(--heading-color);">@schedule.Description</h5>
                                            <p class="card-text text-muted" style="color: var(--default-color);">
                                                <i class="bi bi-calendar-event" style="color: var(--accent-color);"></i> @schedule.Date.ToString("MMMM dd, yyyy")<br>
                                                <i class="bi bi-clock" style="color: var(--accent-color);"></i> @schedule.Date.ToString("HH:mm")
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            }
                    </div>
                </div>
            </section>

        @if (User.Identity?.IsAuthenticated == true){
            if (User.IsInRole("Manager") || User.IsInRole("Coach")){
                <!-- Add Event Button for Coaches and Managers -->
                <div class="pricing text-center mt-5">
                    <a asp-action="Create" asp-controller="Schedule" class="btn buy-btn">
                        Add Event
                    </a>
                </div>
            }
        }

    </main>

    <script src="assets/js/main.js"></script>
    
</body>


